#######################
##     ClearLog      ##
#######################
##Orsyp Software Inc
##Zhibing Wang
##Created on Wed Aug 4 2004
############################################

1. Installation:
Run the install.sh script, and specify the destination directory.


2. Usage: 
2.1 Launch the DuDetect.sh script to detect the existing Dollar Universe Companies.
2.2 Launch the ClrLogController.sh script to do the clearning.
2.3 Please update the ClearLog.conf file for each $U Company. If the ClearLog.conf is not present in the $UXMGR of a $U Company, this $U Company will be skipped.


3. The result:
With the default configuration, the following will be the result:
3.1 The last 100 lines from the universe.log will be kept.
3.2 One day's Job Logs will be kept.
3.3 No archive will be kept.

If the above is not the desired result for a $U Company, please modify its $UXMGR/ClearLog.conf file to reflect your need. 


4. Administration

4.1  Package Contents
(1). install.sh : the first script to run
(2). DuDetect.sh : to detect the existing $U and build the Du.list
(3). ClrLogController.sh : read the Du.list and launch the IU_CLRLOG.000
(4). IU_CLRLOG.000 : This is the maintenance uproc with very light modification. It accepts variables from ClrLogController.sh and do the cleaning.
(5). DuMaint.conf : the configuration file that contains all of the directories and the default maintenance parameters. The parameters in the Du.list are assigned according to this file.
(6). readme.txt :

4.2  Generated files
(1). Du.list : Contains the recorded $U Companies and their related parameters, which could be customized for each $U Company.  The $U Companies listed in this file will be maintained by this program. It is used to generate the clearlog.conf file for each $U Company. 
(2). DuFound.log : The temporary file regenerated after each time the DuDetect.sh runs.  It contains the new detection results to be compared with the Du.list
(3). DuMaint.log : The running log, renewed after each launch of DuDetect.sh
(4). ClearLog.conf : like a Du.list local to each $U Company.

4.3  Configuration file structure

(1). Three configuration files: DuMaint.conf, Du.list and ClearLog.conf
DuMaint.conf: used by the DuDetect.sh, to generated Du.list. The initial Du.list and all new $U Company will use it as the defult parameter.
Du.lst: generated by the DuDetect.sh. It can be customized for each $U Company to provide the default values for each ClearLog.conf file.  
ClearLog.conf: This file located in the 'mgr' directory of each $U Company.
(2). Priority
ClearLog.conf got checked first. If the ClearLog.conf is missing, the Du.list will be used.

############################################
Version 1.1 Modification list:

==install.sh
Corrected the prompt for directories: 
Version 1: All 3 directories are listed for "configuration"
version 1.1: The directories are for scripts, configuration files and logs.

==DuMaint.log
Adding time stamp for each log entry

==ClearLog.conf
Adding this file to each found $U Company; checking it before each time cleaning the log. It acts as a local Du.list file for each $U Company. It will be generated after the first time the DuDetect.sh run, and by default, use the values specified in the DuMaint.conf file. 

==Allowing more than one admin emails to be used

==This readme.txt is created and included in the installation.

==Some minor bug fixs.
